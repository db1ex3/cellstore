<div class="topbar text-center">
    <div class="btn-group">
        <a class="btn btn-xs" ng-model="page" btn-radio="'/views/entity.html'" href="/entity{{(cik?'/' + cik : '')}}"><i class="icn fa fa-home"></i></a>
        <a class="btn btn-xs" ng-class="{ 'disabled': !cik }" ng-model="page" btn-radio="'/views/filings.html'" href="/filings{{(cik?'/' + cik : '')}}"><i class="icn icn-filings"></i> Filings</a>
        <a class="btn btn-xs" ng-class="{ 'disabled': !cik }" ng-model="page" btn-radio="'/views/information.html'" href="/information{{(cik?'/' + cik : '')}}"><i class="icn icn-analytics"></i> Basic Financial Information</a>
        <a class="btn btn-xs" ng-class="{ 'disabled': !cik }" ng-model="page" btn-radio="'/views/dashboard.html'" href="/dashboard{{(cik?'/' + cik : '')}}"><i class="icn icn-dashboard"></i> Basic Analysis</a>
        <a class="btn btn-xs" ng-class="{ 'disabled': !cik }" ng-model="page" btn-radio="'/views/search.html'" href="/search{{(cik?'/' + cik : '')}}"><i class="icn icn-search"></i> Search Facts</a>
    </div>
</div>

<div class="container">
	<div class="row">
		<div class="col-md-12 spaced">
            <h3 class="text-center">Search Entity</h3>
			<input class="form-control input-lg input-block" ng-class="{ 'fade-control': !cik }" type="text" ng-model="name" typeahead-on-select="selectEntity($item)"
				   placeholder="Search entities by name, CIK, or ticker..." ng-click="focused=true;"
                   typeahead-template-url="typeaheadmulti.html"
				   typeahead="entity for entity in entities | filter:$viewValue | limitTo:8">
            <script type="text/ng-template" id="typeaheadmulti.html">
            <a tabindex="-1" class="multicol">
               <div ng-bind-html='match.model.name | typeaheadHighlight:query'></div>
               <small ng-bind-html='"CIK: " + match.model.cik + (match.model.tickers[0] ? ", Ticker: " + match.model.tickers[0] : "") | typeaheadHighlight:query'></small>
            </a>
            </script>
		</div>

        <div ng-show="result" class="white-box">
          <h3 class="highlight3">{{result.Profiles.SEC.CompanyName}}</h3>
		  <div class="scrolling">
            <table class="table" cellpadding="5">
              <tr>
                <td style="width: 40%">CIK</td><td>{{cik}}</td>
              </tr>
              <tr>
                <td>Ticker Symbol</td><td>{{ticker}}</td>
              </tr>
              <tr>
                <td>Entity Type</td><td>{{result.Profiles.SEC.CompanyType}}</td>
              </tr>
              <tr>
                <td>SIC Code</td><td>{{result.Profiles.SEC.SIC}}</td>
              </tr>
              <tr>
                <td>SIC Description</td><td>{{result.Profiles.SEC.SICDescription}}</td>
              </tr>
              <tr>
                <td>Industry Sector</td><td>{{result.Profiles.SEC.Sector}}</td>
              </tr>
              <tr>
                <td>Is a Trust</td><td>{{result.Profiles.SEC.IsTrust?"Yes":"No"}}</td>
              </tr>
            </table>
          </div>
          <div class="white-box-footer" style="padding: 15px;">
            <a href="/filings/{{cik}}">Filings</a> | 
            <a href="/information/{{cik}}">Basic Financial Information</a> | 
            <a href="/dashboard/{{cik}}">Basic Analysis</a> | 
            <a href="/search/{{cik}}">Search Facts</a>
          </div>
        </div>
          <div class="col-md-12 text-right" ng-show="result">
            Data as: <a href="{{API_URL}}/_queries/public/api/entities.jq?format=json&_method=POST&cik={{cik}}{{(token?'&token=' + token : '')}}" download="{{cik}}.json">JSON</a>,
            <a href="{{API_URL}}/_queries/public/api/entities.jq?format=xml&_method=POST&cik={{cik}}{{(token?'&token=' + token : '')}}" downlaod="{{cik}}.xml">XML</a>,
            <a href="{{API_URL}}/_queries/public/api/entities.jq.text?format=csv&_method=POST&cik={{cik}}{{(token?'&token=' + token : '')}}" download="{{cik}}.csv">CSV</a>,
            <a href="{{API_URL}}/_queries/public/api/entities.jq.text?format=excel&_method=POST&cik={{cik}}{{(token?'&token=' + token : '')}}" download="{{cik}}.csv">Excel</a>
          </div>
	</div>
</div>
