<div class="topbar text-center">
    <div class="btn-group">
        <a class="btn btn-xs" ng-model="page" btn-radio="'/views/information.html'" href="/information{{(cik?'/' + cik : '')}}"><i class="icn icn-analytics"></i> Basic Financial Information</a>
        <a class="btn btn-xs" ng-model="page" btn-radio="'/views/dashboard.html'" href="/dashboard{{(cik?'/' + cik : '')}}"><i class="icn icn-dashboard"></i> Basic Analysis</a>
        <a class="btn btn-xs" ng-model="page" btn-radio="'/views/search.html'" href="/search{{(cik?'/' + cik : '')}}"><i class="icn icn-search"></i> Search Facts</a>
        <!--<a class="btn btn-xs" ng-model="page" btn-radio="'/views/analytics.html'" href="/analytics"><i class="icn icn-analytics"></i> Use of Extensions</a>-->
    </div>
</div>

<div class="cols fade-container">
	<div class="fade-content" ng-hide="cik || focused"></div>
	<div class="fade-panel-dashboard" ng-hide="cik || focused">
		<div class="arrow"></div>
		Search companies by business name, CIK or ticker simbol<br>
		to see information about filings.
	</div>
	<div class="col-left col-md-3 col-sm-4 col-xs-12">
		<div class="col-xs-12">
			<input class="form-control" ng-class="{ 'fade-control': !cik }" type="text" ng-model="name" typeahead-on-select="selectEntity($item)"
				   placeholder="Search for an entity..." ng-click="focused=true;"
				   typeahead="entity.name for entity in entities | filter:$viewValue | limitTo:8">
		</div>
		<div style="padding: 15px 10px;" class="clearfix">
			<div class="col-md-2 col-sm-4 col-xs-2" ng-show="cik">
				CIK
			</div>
			<div class="col-md-4 col-sm-8 col-xs-4" ng-show="cik">
				<a href="javascript://" class="highlight3" ng-click="loadPopover()"><b>{{cik}}</b></a>

                <div style="top: -40px; left: 100px; display: block;" class="popover right fade in" ng-show="showPopover">
                  <div class="arrow" style="position: absolute; top: 45px;"></div>
                  <div class="popover-inner">
                      <a href="javascript://" ng-click="closePopover()" class="close" style="padding: 6px;">&times;</a>
                      <h3 class="popover-title">{{name}}</h3>
                      <div class="popover-content">
                        <table style="width: 500px" cellpadding="2">
                          <tr>
                            <td style="width: 35%">CIK</td><td>{{cik}}</td>
                          </tr>
                          <tr>
                            <td>Ticker Symbol</td><td>{{ticker}}</td>
                          </tr>
                          <tr>
                            <td>Entity Registrant Name</td><td>{{result.Profiles.SEC.CompanyName}}</td>
                          </tr>
                          <tr>
                            <td>Entity Type</td><td>{{result.Profiles.SEC.CompanyType}}</td>
                          </tr>
                          <tr>
                            <td>SIC Code</td><td>{{result.Profiles.SEC.SIC}}</td>
                          </tr>
                          <tr>
                            <td>SIC Description</td><td>{{result.Profiles.SEC.SICDescription}}</td>
                          </tr>
                          <tr>
                            <td>Industry Sector</td><td>{{result.Profiles.SEC.Sector}}</td>
                          </tr>
                          <tr>
                            <td>Is a Trust</td><td>{{result.Profiles.SEC.IsTrust?"Yes":"No"}}</td>
                          </tr>
                        </table>
                      </div>
                      <div class="popover-footer" style="border-top: 1px dotted gainsboro; padding: 15px;">
                        <a href="/entity/{{cik}}">Entity Information</a> | <a href="/filings/{{cik}}">Filings</a>
                      </div>
                  </div>
                </div>
			</div>
			<div class="col-md-3 col-sm-4 col-xs-3" ng-show="ticker">
				Symbol
			</div>
			<div class="col-md-3 col-sm-8 col-xs-3" ng-show="ticker">
				<b>{{ticker}}</b>
			</div>
		</div>
		<div style="padding: 15px 10px; border-top: 1px solid gainsboro; margin: 0px -10px;" class="clearfix" ng-show="cik">
			<div class="col-md-6 col-sm-6 col-xs-6">
				<h6 class="nowrap">FISCAL YEAR</h6>
				<ul class="selector" style="height: 97px">
					<li ng-repeat="y in usage" ng-class="{ selected: year==years[$index], disabled: !y.used }" ng-click="setYear(years[$index], y.used)">{{years[$index]}}</li>
				</ul>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-6">
				<h6 class="nowrap">FISCAL PERIOD</h6>
				<ul class="selector" style="height: 97px">
					<li ng-repeat="p in usage[years.indexOf(year)].periods" ng-class="{ selected: period==periods[$index], disabled: !p.used }" ng-click="setPeriod(periods[$index], p.used)">{{periods[$index]}}</li>
				</ul>
			</div>
		</div>
		<div style="padding: 15px 10px; border-top: 1px solid gainsboro; margin: 0px -10px;" ng-class="{ 'hidden-xs': reports.length }" ng-show="reports.length">
			<div class="col-xs-12">
				<h6>FUNDAMENTAL ACCOUNTING</h6>
				<ul class="normal">
					<li ng-repeat="report in reports">
						<a class="highlight3" href="javascript://" ng-click="showtab[$index]=true; gotoId('report' + $index)">{{report.name}}</a>
					</li>
				</ul>
			</div>
		</div>
		<div style="clear: both"></div>
	</div>
	<div class="col-right col-md-9 col-sm-8 col-xs-12">
		<div class="col-md-12">
			<h3>Compute analytics based on information extracted from the SEC filings.</h3>
			<div class="row">
			<div class="col-md-12" ng-repeat="report in reports" scroll-id="report{{$index}}">
			<div class="white-box nav">
				<a class="pull-right close small" href="javascript://" ng-click="gotoId('report0')"><i class="fa fa-arrow-up"></i></a>
				<a class="h4 highlight3" href="javascript://" ng-click="showtab[$index]=!showtab[$index]" style="margin-left: -10px"><i class="fa fa-caret-down" ng-show="showtab[$index]"></i><i class="fa fa-caret-right" ng-hide="showtab[$index]"></i> {{report.name}}</a>

				<div class="scrolling" ng-show="showtab[$index]">
					<table class="table">
						<thead>
							<th>Label</th>
							<th>Value</th>
							<th>Audit Trail</th>
						</thead>
						<tbody>
						<tr ng-repeat="item in report.items">
							<td style="min-width: 250px">{{item.label}}</td>
							<td class="nowrap" ng-class="{ 'text-right' : (item.type == 'NumericValue') }">{{item.value}}</td>
							<td>
								<a href="javascript://" popover="{{item.auditValue}}" popover-title="{{item.auditLabel}}" popover-placement="left" popover-trigger="focus">
									{{substring(item.auditValue, 30)}}
								</a>
							</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
			</div>
			</div>
		</div>
	</div>
</div>
