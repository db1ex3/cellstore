<div class="alert" ng-class="{ 'alert-success': status === 'saved', 'alert-warning': status === 'saving', 'alert-danger': status === 'savingError' }" id="saveStatus" ng-show="status" ng-switch on="status">
    <small ng-switch-when="saving">Saving...</small>
    <small ng-switch-when="saved">Saved</small>
    <small ng-switch-when="savingError">Error while saving</small>
</div>
<report report-api="{{api}}" report-api-token="{{token}}" report-id="{{id}}" id="report" full-screen>
    <div class="text-center" ng-if="!report">
        <h1>Loading Report <i class="fa fa-spinner fa-spin"></i></h1>
    </div>
    <flexy-layout orientation="horizontal" ng-if="report">
        <block-container init="400" class="sidebar">
            <div class="group-item">
                <input type="text" ng-model="search" class="search">
            </div>
            <div class="group-item">
                <button ng-click="newConcept()" class="btn btn-primary"><i class="fa fa-plus"></i> Concept</button>
                <!--div class="btn-group" dropdown>
                    <button type="button" class="btn btn-primary dropdown-toggle" ng-disabled="disabled">
                        <i class="fa fa-filter"></i> Filter <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                        <li><input type="checkbox"> Abstract Concepts</li>
                        <li><input type="checkbox"> Concepts in Presentation Network</li>
                        <li><input type="checkbox"> Concepts in Concept Maps Network</li>
                        <li><input type="checkbox"> Concepts in Business Rules Network</li>
                    </ul>
                </div-->
            </div>
            <div class="list-group scrollable">
                <a class="list-group-item" ng-repeat="concept in concepts | filter:search" id="{{concept.Name}}" ui-sref-active="active" ui-sref="report({ id: id, network: network, concept: concept.Name })">
                {{concept.Label}}
                </a>
            </div>
        </block-container>
        <block-splitter></block-splitter>
        <block-container>
            <ul class="nav nav-tabs">
                <li ui-sref-active="active" ng-if="concept">
                    <a ui-sref="report({ id: id, network: 'concept', concept: concept })">Concept</a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="report({ id: id, network: 'presentation', concept: concept })">Presentation</a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="report({ id: id, network: 'concept-maps', concept: concept })">Concept Maps</a>
                </li>
                <li ui-sref-active="active">
                    <a ui-sref="report({ id: id, network: 'business-rules', concept: concept })">Business Rules</a>
                </li>
            </ul>
            <div ng-switch on="network" class="scrollable">
                <div ng-switch-when="concept">
                    <concept concept-name="{{concept}}"></concept>
                </div>
                <div ng-switch-when="presentation">
                    <presentation-tree concept-name="{{concept}}"></presentation-tree>
                </div>
                <div ng-switch-when="concept-maps">
                    <concept-map class="std-container" concept-name="{{concept}}"></concept-map>
                </div>
                <div ng-switch-when="business-rules">
                    <h2>Business Rules</h2>
                </div>
            </div>
        </block-container>
    </flexy-layout>
</report>