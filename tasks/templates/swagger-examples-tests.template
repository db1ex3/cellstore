import module namespace test = "http://apps.28.io/test";
(:
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
            this file is autogenerated
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

    Edit these files instead:
     - <%= template %>
     - <%= swaggerFile %>
:)

test:check-all-success({<% _.forEach(tests, function(test, index) { %><%  if(index > 0){ %>,<%  }%>
    <%= test.name %>: test:invoke-and-assert-deep-equal(
          "<%= test.endpoint %>",
          <%= JSON.stringify(test.parameters) %>,
          <%  if(_.isString(test.transform)){ %>function($response as item*) as item* { <%= test.transform %> },<%  } else { %>function($response as item*) as item* { ($response) },<%  } %>
          <%= test.expectedResult %>
        )
<% }); %>
})